<div id="chat-assistant-panel" class="flex flex-col h-full">
  <h2 class="font-semibold mb-2">Chat IA</h2>
  <div id="chat-messages" class="flex-1 overflow-y-auto mb-2 space-y-2">
    {% for msg in messages %}
      <div class="{{ 'text-right' if msg.role == 'user' else 'text-left' }}">
        <div class="inline-block px-3 py-2 rounded-lg {{ 'bg-blue-100 text-blue-900' if msg.role == 'user' else 'bg-gray-200 text-gray-800' }}">
          <span class="block text-xs font-semibold">{{ msg.role|capitalize }}</span>
          <span>{{ msg.content }}</span>
        </div>
      </div>
    {% endfor %}
  </div>
  <form id="chat-form" hx-post="/api/chat/ask" hx-target="#chat-assistant-panel" hx-swap="outerHTML" class="flex flex-col gap-2">
    <input type="text" name="user_prompt" placeholder="Escribe tu pregunta..." required class="border rounded px-2 py-1" autocomplete="off" />
    <input type="text" name="context" placeholder="Contexto (opcional)" class="border rounded px-2 py-1" />
    <input type="text" name="system_prompt" placeholder="System prompt (opcional)" class="border rounded px-2 py-1" />
    <button type="submit" class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700">Enviar</button>
  </form>
</div>
